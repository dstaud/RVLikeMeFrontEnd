<mat-sidenav-container fullscreen [ngClass]="theme">
    <mat-sidenav #sidenav role="navigation" mode="push">
      <app-rvlm-sidenav-list (sideNavClosed)="sidenav.close()"></app-rvlm-sidenav-list>
    </mat-sidenav>
    <mat-sidenav-content fxLayout="column">
      <app-rvlm-header *ngIf="headerDesktopVisible || userAuthorized"
                        (sidenavToggle)="sidenav.toggle()"
                        fxHide fxShow.gt-sm>
      </app-rvlm-header>
      <app-rvlm-header-mobile *ngIf="headerVisible || userAuthorized"
                              [newMessageCount]=newMessageCount
                              (sidenavToggle)="sidenav.toggle()"
                              fxHide fxShow.lt-sm>
      </app-rvlm-header-mobile>
      <main [@triggerName]="prepareRoute(outlet)" class="container mat-app-background"
            [ngClass]="{
                      'bottom-bar-spacing': !headerDesktopVisible && userAuthorized && !iphoneModelxPlus,
                      'bottom-bar-spacing-xplus': userAuthorized && iphoneModelxPlus
                    }">
        <router-outlet #outlet="outlet" (activate)="onActivate($event)"></router-outlet>
      </main>
      <app-rvlm-footer *ngIf="userAuthorized" (sidenavToggle)="sidenav.toggle()" fxHide fxShow.lt-sm></app-rvlm-footer>
    </mat-sidenav-content>
</mat-sidenav-container>
